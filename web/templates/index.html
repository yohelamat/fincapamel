{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finca Pamel | Azuero</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- VARIABLES DE COLOR --- */
        :root {
            --verde-principal: #2E5C38; 
            --teja-azuero: #D35400;    
            --whatsapp: #25D366;
            --email: #3498DB;

            /* Colores Light Mode */
            --bg-body: #F9F9F9;
            --bg-card: #ffffff;
            --bg-header: #ffffff;
            --texto-principal: #333333;
            --texto-secundario: #555555;
            --sombra: rgba(0,0,0,0.05);
            --borde: #eeeeee;
        }

        /* Colores Dark Mode */
        body.dark-mode {
            --bg-body: #121212;
            --bg-card: #1e1e1e;
            --bg-header: #1a1a1a;
            --texto-principal: #ffffff;
            --texto-secundario: #dddddd;
            --sombra: rgba(0,0,0,0.3);
            --borde: #333333;
        }

        /* --- RESET --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Open Sans', sans-serif;
            color: var(--texto-principal);
            background-color: var(--bg-body);
            line-height: 1.6;
            width: 100%;
            transition: background-color 0.3s, color 0.3s;
        }

        img { max-width: 100%; display: block; }
        a { text-decoration: none; color: inherit; }

        h1, h2, h3 {
            font-family: 'Montserrat', sans-serif;
            color: var(--verde-principal);
            font-weight: 700;
        }
        
        body.dark-mode h1, body.dark-mode h2, body.dark-mode h3 {
            color: #4CAF50; /* Verde más brillante para fondo negro */
        }

        /* --- HEADER --- */
        header {
            background: var(--bg-header);
            width: 100%;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 12px var(--sombra);
            padding: 0 5%;
            transition: background 0.3s;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            min-height: 70px;
        }

        .logo h1 { font-size: 1.5rem; display: flex; align-items: center; gap: 8px; }
        
        .nav-links { display: flex; gap: 1.5rem; list-style: none; align-items: center; }
        
        .nav-links a { 
            color: var(--texto-secundario); 
            font-weight: 600; 
            text-transform: uppercase; 
            font-size: 0.85rem;
            transition: color 0.3s;
        }
        .nav-links a:hover { color: var(--verde-principal); }

        /* --- CONTROLES (Idioma y Tema) --- */
        .controls {
            display: flex;
            align-items: center;
            margin-left: 20px;
            padding-left: 20px;
            border-left: 1px solid var(--borde);
            gap: 15px; /* Espacio entre selector e icono */
        }

        /* Selector de Idioma */
        .lang-wrapper {
            position: relative;
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--texto-secundario);
        }
        
        .lang-select {
            appearance: none; 
            background-color: var(--bg-header);
            border: 1px solid var(--borde);
            color: var(--texto-principal);
            padding: 5px 10px;
            border-radius: 20px;
            font-family: 'Open Sans', sans-serif;
            font-weight: 600;
            font-size: 0.8rem;
            cursor: pointer;
            outline: none;
            transition: 0.3s;
        }
        
        .lang-select:hover { border-color: var(--verde-principal); }

        .lang-select option {
            background-color: var(--bg-header);
            color: var(--texto-principal);
        }

        /* Botón de Tema (Luna/Sol) */
        .theme-toggle {
            cursor: pointer;
            color: var(--texto-principal);
            font-size: 1.2rem;
            padding: 5px;
            transition: transform 0.3s, color 0.3s;
        }
        .theme-toggle:hover { 
            transform: rotate(15deg); 
            color: var(--verde-principal); 
        }

        /* --- HERO --- */
        .hero-container {
            position: relative;
            width: 100%;
            overflow: hidden;
        }

        .hero-img {
            width: 100%;
            height: 450px; 
            object-fit: cover; 
            object-position: center; 
        }
        
        @media (max-width: 768px) {
            .hero-img { height: 250px; }
        }

        .hero-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.4);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 1rem;
        }

        .hero-overlay h2 {
            color: white !important;
            font-size: clamp(1.8rem, 5vw, 3.5rem);
            text-shadow: 2px 2px 5px rgba(0,0,0,0.5);
            margin-bottom: 0.5rem;
        }
        
        .hero-overlay p {
            color: #f0f0f0;
            font-size: 1.2rem;
            font-weight: 600;
        }

        /* --- CONTENEDORES --- */
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 4rem 1.5rem;
        }

        .intro-text { text-align: center; max-width: 800px; margin: 0 auto; }
        .intro-text p { font-size: 1.1rem; color: var(--texto-secundario); }

/* --- CARRUSEL AJUSTADO PARA 4 FOTOS --- */
        .carousel-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            height: 320px;
            margin: 2rem auto 0;
        }
        .carousel-slide {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0;
            /* Ciclo total de 20 segundos (5s x 4 fotos) */
            animation: fade 20s infinite; 
            display: flex; align-items: center; justify-content: center;
        }
        .carousel-slide img {
            max-width: 100%; max-height: 100%;
            object-fit: contain;
            border-radius: 12px;
            box-shadow: 0 5px 15px var(--sombra);
        }
        
        /* TIEMPOS DE ENTRADA (Cada 5 segundos entra una nueva) */
        .carousel-slide:nth-child(1) { animation-delay: 0s; }
        .carousel-slide:nth-child(2) { animation-delay: 5s; }
        .carousel-slide:nth-child(3) { animation-delay: 10s; }
        .carousel-slide:nth-child(4) { animation-delay: 15s; }
        
        /* ANIMACIÓN CALCULADA PARA 4 ELEMENTOS (100% / 4 = 25%) */
        @keyframes fade {
            0% { opacity: 0; }
            5% { opacity: 1; }  /* Aparece rápido */
            20% { opacity: 1; } /* Se queda visible */
            25% { opacity: 0; } /* Desaparece justo cuando entra la siguiente */
            100% { opacity: 0; }
        }

        /* --- GRID --- */
        .grid-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 2rem;
        }
        
        .card-link {
            display: block; 
            border-radius: 12px; 
            overflow: hidden;
            box-shadow: 0 5px 15px var(--sombra);
            background: var(--bg-card);
            border: 1px solid var(--borde);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card-link:hover { 
            transform: translateY(-8px); 
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
        .card-link img { width: 100%; height: 220px; object-fit: cover; }
        
        .card-info { padding: 1.5rem; text-align: center; }
        .card-info h3 { color: var(--verde-principal); margin-bottom: 0.5rem; font-size: 1.2rem; }
        .card-info p { color: var(--texto-secundario); font-size: 0.95rem; }
        
        .btn-ver-mas {
            display: inline-block;
            margin-top: 1rem;
            color: var(--teja-azuero);
            font-weight: 700;
            font-size: 0.85rem;
            border-bottom: 2px solid transparent;
        }
        .card-link:hover .btn-ver-mas { border-bottom-color: var(--teja-azuero); }


        /* --- CONTACTO --- */
        .contacto-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;
            background: var(--bg-card); padding: 2rem; border-radius: 15px;
            box-shadow: 0 5px 20px var(--sombra);
            border: 1px solid var(--borde);
        }
        .contacto-btns { display: flex; flex-direction: column; gap: 1rem; justify-content: center; }
        .btn {
            display: inline-flex; align-items: center; justify-content: center; gap: 10px;
            padding: 12px; border-radius: 8px; color: white; font-weight: bold; transition: 0.3s;
        }
        .btn-wa { background-color: var(--whatsapp); }
        .btn-mail { background-color: var(--email); }
        .btn:hover { opacity: 0.9; transform: translateY(-2px); }

        /* --- FOOTER --- */
        footer {
            background: #111; color: #aaa; text-align: center; padding: 2rem;
        }

        /* --- RESPONSIVE --- */
        @media (max-width: 768px) {
            header { padding: 1rem; height: auto; }
            nav { flex-direction: column; gap: 1rem; }
            .nav-links { 
                display: flex; flex-direction: column; gap: 1rem; text-align: center; width: 100%;
                border-top: 1px solid var(--borde); padding-top: 1rem;
            }
            .controls { 
                margin: 0; border: none; padding: 0; justify-content: center; width: 100%; margin-top: 10px;
            }
            .hero-overlay h2 { font-size: 2rem; }
            .contacto-grid { grid-template-columns: 1fr; }
            .carousel-container { height: 220px; }
        }
    </style>
</head>
<body>

<header>
        <nav>
            <div class="logo">
                <a href="{% url 'index' %}"><h1><i class="fa-solid fa-leaf"></i> Finca Pamel</h1></a>
            </div>
            
            <ul class="nav-links">
                <li><a href="{% url 'index' %}" data-lang="menu_home">Inicio</a></li>
                <li><a href="{% url 'hospedaje' %}" data-lang="menu_lodging">Hospedaje</a></li>
                <li><a href="{% url 'pasadias' %}" data-lang="menu_daypass">Pasadías</a></li>
                <li><a href="{% url 'eventos' %}" data-lang="menu_events">Eventos</a></li>
                <li><a href="{% url 'blog' %}" data-lang="menu_blog">Blog</a></li>
                <li><a href="{% url 'index' %}#contacto" data-lang="menu_contact">Contacto</a></li>
                
                <div class="controls">
                    <div class="lang-wrapper">
                        <i class="fa-solid fa-globe"></i>
                        <select class="lang-select" onchange="setLanguage(this.value)">
                            <option value="es">Español</option>
                            <option value="en">English</option>
                            <option value="fr">Français</option>
                            <option value="de">Deutsch</option>
                        </select>
                    </div>
                    <div class="theme-toggle" onclick="toggleTheme()" title="Cambiar Tema">
                        <i id="theme-icon" class="fa-solid fa-moon"></i>
                    </div>
                </div>
            </ul>
        </nav>
    </header>

    <section id="inicio" class="hero-container">
        <img src="{% static 'fincapamel1.jpg' %}" alt="Finca Pamel Paisaje" class="hero-img">
        <div class="hero-overlay">
            <h2 data-lang="hero_title">Experiencia Única en Azuero</h2>
            <p data-lang="hero_subtitle">Historia, Naturaleza y Tradición</p>
        </div>
    </section>

    <section class="container">
        <div class="intro-text">
            <h2 data-lang="welcome_title">Bienvenidos a la Finca Pamel</h2>
            <p data-lang="welcome_text">Finca Agro Turística Pamel es un refugio de paz en La Villa de Los Santos. Con más de 2,200 años de historia arqueológica bajo nuestros pies, ofrecemos un espacio para desconectarse de la ciudad y conectar con nuestras raíces.</p>
        </div>

        <div class="carousel-container">
            <div class="carousel-slide"><img src="{% static 'fincapamel5.jpg' %}" alt="Foto 5"></div>
            <div class="carousel-slide"><img src="{% static 'fincapamel6.jpg' %}" alt="Foto 6"></div>
            <div class="carousel-slide"><img src="{% static 'fincapamel8.jpg' %}" alt="Foto 8"></div>
            <div class="carousel-slide"><img src="{% static 'fincapamel9.jpg' %}" alt="Foto 9"></div>
        </div>
    </section>

    <section id="servicios" class="container">
        <h2 style="text-align: center; margin-bottom: 1rem;" data-lang="services_title">Nuestros Servicios</h2>
        <p style="text-align: center; color: var(--texto-secundario);" data-lang="services_subtitle">Descubre todo lo que ofrecemos</p>
        
<div class="grid-cards">
            <a href="{% url 'hospedaje' %}" class="card-link">
                <img src="{% static 'fincapamel3.jpg' %}" alt="Hospedaje Familiar">
                <div class="card-info">
                    <h3 data-lang="serv_lodging">Hospedaje Familiar</h3>
                    <p data-lang="serv_lodging_desc">Habitaciones con aire acondicionado y baño privado.</p>
                    <span class="btn-ver-mas" data-lang="btn_more">Ver Detalles →</span>
                </div>
            </a>

            <a href="{% url 'pasadias' %}" class="card-link">
                <img src="{% static 'fincapamel2.jpg' %}" alt="Piscina">
                <div class="card-info">
                    <h3 data-lang="serv_daypass">Pasadías y Piscina</h3>
                    <p data-lang="serv_daypass_desc">Disfruta de nuestras instalaciones por un día.</p>
                    <span class="btn-ver-mas" data-lang="btn_more">Ver Detalles →</span>
                </div>
            </a>

            <a href="{% url 'eventos' %}" class="card-link">
                <img src="{% static 'fincapamel4.jpg' %}" alt="Eventos">
                <div class="card-info">
                    <h3 data-lang="serv_events">Eventos y Ranchos</h3>
                    <p data-lang="serv_events_desc">Hamacas, brisa y espacios para reuniones.</p>
                    <span class="btn-ver-mas" data-lang="btn_more">Ver Detalles →</span>
                </div>
            </a>
        </div>
        </div>
    </section>

    <section id="contacto" class="container">
        <h2 style="text-align: center; margin-bottom: 2rem;" data-lang="contact_title">¿Dónde Estamos?</h2>
        
        <div class="contacto-grid">
            <div style="height: 300px; width: 100%; border-radius: 12px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                <iframe 
                    width="100%" 
                    height="100%" 
                    frameborder="0" 
                    scrolling="no" 
                    marginheight="0" 
                    marginwidth="0" 
                    src="https://maps.google.com/maps?q=Finca+Agroturistica+Pamel,+La+Villa+de+Los+Santos&t=&z=15&ie=UTF8&iwloc=&output=embed">
                </iframe>
            </div>

            <div class="contacto-btns">
                <h3 style="margin-bottom: 1rem;" data-lang="booking_title">Reserva tu visita</h3>
                <p style="margin-bottom: 1rem;" data-lang="booking_text">Atendemos consultas y reservas directamente:</p>
                
                <a href="https://wa.me/50769915111" class="btn btn-wa" target="_blank">
                    <i class="fa-brands fa-whatsapp"></i> WhatsApp
                </a>
                
                <a href="mailto:info@fincapamel.com" class="btn btn-mail">
                    <i class="fa-regular fa-envelope"></i> Email
                </a>

                <p style="margin-top: 1rem; font-size: 0.9rem;">
                    <strong data-lang="payment_label">Métodos de pago:</strong> Transferencia Bancaria y Yappy.
                </p>
            </div>
        </div>
    </section>

    <section id="aliados" class="container" style="background: var(--bg-card); border-radius: 20px; box-shadow: 0 5px 20px var(--sombra); border: 1px solid var(--borde);">
        <div class="intro-text">
            <h2 data-lang="partners_title">Otras Experiencias de la Familia</h2>
            <p data-lang="partners_subtitle">Descubre nuestros otros destinos en Panamá</p>
        </div>

        <div class="grid-cards">
            <a href="#" class="card-link">
                <img src="{% static 'casanuboso.jpg' %}" alt="Casa Nuboso Boquete">
                <div class="card-info">
                    <h3>Casa Nuboso Estate</h3>
                    <p data-lang="nuboso_desc">Un escape en las tierras altas de Boquete. Clima perfecto, café y montañas.</p>
                    <span class="btn-ver-mas" data-lang="btn_visit">Visitar Web →</span>
                </div>
            </a>

            <a href="#" class="card-link">
                <img src="{% static 'casapollera.jpg' %}" alt="Casa de la Pollera">
                <div class="card-info">
                    <h3 data-lang="pollera_title">Estudio Folklórico</h3>
                    <p data-lang="pollera_desc">El lugar especializado para tus sesiones de fotos con Polleras en Los Santos.</p>
                    <span class="btn-ver-mas" data-lang="btn_visit">Visitar Web →</span>
                </div>
            </a>
        </div>
    </section>

    <footer style="background: #111; color: #aaa; text-align: center; padding: 2rem;">
        <p>© 2026 Finca Pamel. Creado por <strong>AmatDev</strong>.</p>
    </footer>

    <script>
        // --- IDIOMAS ---
        const translations = {
            es: {
                menu_home: "Inicio",
                menu_services: "Servicios",
                menu_blog: "Blog",
                menu_contact: "Contacto",
                hero_title: "Experiencia Única en Azuero",
                hero_subtitle: "Historia, Naturaleza y Tradición",
                welcome_title: "Bienvenidos a la Finca Pamel",
                welcome_text: "Finca Agro Turística Pamel es un refugio de paz en La Villa de Los Santos. Con más de 2,200 años de historia arqueológica bajo nuestros pies, ofrecemos un espacio para desconectarse de la ciudad y conectar con nuestras raíces.",
                services_title: "Nuestros Servicios",
                services_subtitle: "Descubre todo lo que ofrecemos",
                serv_lodging: "Hospedaje Familiar",
                serv_lodging_desc: "Habitaciones con aire acondicionado y baño privado.",
                serv_daypass: "Pasadías y Piscina",
                serv_daypass_desc: "Disfruta de nuestras instalaciones por un día.",
                serv_events: "Eventos y Ranchos",
                serv_events_desc: "Hamacas, brisa y espacios para reuniones.",
                btn_more: "Ver Detalles →",
                partners_title: "Otras Experiencias de la Familia",
                partners_subtitle: "Descubre nuestros otros destinos en Panamá",
                nuboso_desc: "Un escape en las tierras altas de Boquete. Clima perfecto, café y montañas.",
                pollera_title: "Estudio Folklórico",
                pollera_desc: "El lugar especializado para tus sesiones de fotos con Polleras en Los Santos.",
                btn_visit: "Visitar Web →",
                contact_title: "¿Dónde Estamos?",
                booking_title: "Reserva tu visita",
                booking_text: "Atendemos consultas y reservas directamente:",
                payment_label: "Métodos de pago:"
            },
            en: {
                menu_home: "Home",
                menu_services: "Services",
                menu_blog: "Blog",
                menu_contact: "Contact",
                hero_title: "Unique Experience in Azuero",
                hero_subtitle: "History, Nature and Tradition",
                welcome_title: "Welcome to Finca Pamel",
                welcome_text: "Finca Agro Turística Pamel is a peaceful refuge in La Villa de Los Santos. With over 2,200 years of archaeological history beneath our feet, we offer a space to disconnect from the city and connect with our roots.",
                services_title: "Our Services",
                services_subtitle: "Discover everything we offer",
                serv_lodging: "Family Lodging",
                serv_lodging_desc: "Rooms with air conditioning and private bathroom.",
                serv_daypass: "Day Pass & Pool",
                serv_daypass_desc: "Enjoy our facilities for a day.",
                serv_events: "Events & Huts",
                serv_events_desc: "Hammocks, breeze, and spaces for gatherings.",
                btn_more: "View Details →",
                partners_title: "Our Sister Experiences",
                partners_subtitle: "Discover our other destinations in Panama",
                nuboso_desc: "An escape in the highlands of Boquete. Perfect weather, coffee, and mountains.",
                pollera_title: "Folklore Studio",
                pollera_desc: "The specialized place for your Pollera photo sessions in Los Santos.",
                btn_visit: "Visit Website →",
                contact_title: "Where Are We?",
                booking_title: "Book Your Visit",
                booking_text: "We attend inquiries and reservations directly:",
                payment_label: "Payment methods:"
            },
            fr: {
                menu_home: "Accueil",
                menu_services: "Services",
                menu_blog: "Blog",
                menu_contact: "Contact",
                hero_title: "Expérience Unique à Azuero",
                hero_subtitle: "Histoire, Nature et Tradition",
                welcome_title: "Bienvenue à Finca Pamel",
                welcome_text: "Finca Agro Turística Pamel est un refuge paisible à La Villa de Los Santos. Avec plus de 2 200 ans d'histoire archéologique sous nos pieds, nous offrons un espace pour se déconnecter de la ville et se connecter à nos racines.",
                services_title: "Nos Services",
                services_subtitle: "Découvrez tout ce que nous offrons",
                serv_lodging: "Hébergement Familial",
                serv_lodging_desc: "Chambres avec climatisation et salle de bain privée.",
                serv_daypass: "Pass Journée & Piscine",
                serv_daypass_desc: "Profitez de nos installations pour une journée.",
                serv_events: "Événements & Huttes",
                serv_events_desc: "Hamacs, brise et espaces pour réunions.",
                btn_more: "Voir Détails →",
                partners_title: "Nos Autres Expériences",
                partners_subtitle: "Découvrez nos autres destinations au Panama",
                nuboso_desc: "Une évasion sur les hautes terres de Boquete. Climat parfait, café et montagnes.",
                pollera_title: "Studio Folklorique",
                pollera_desc: "L'endroit spécialisé pour vos séances photo avec Polleras à Los Santos.",
                btn_visit: "Visiter le Site →",
                contact_title: "Où Sommes-Nous ?",
                booking_title: "Réservez Votre Visite",
                booking_text: "Nous traitons les demandes et les réservations directement :",
                payment_label: "Méthodes de paiement :"
            },
            de: {
                menu_home: "Start",
                menu_services: "Dienstleistungen",
                menu_blog: "Blog",
                menu_contact: "Kontakt",
                hero_title: "Einzigartiges Erlebnis in Azuero",
                hero_subtitle: "Geschichte, Natur und Tradition",
                welcome_title: "Willkommen auf der Finca Pamel",
                welcome_text: "Finca Agro Turística Pamel ist ein friedlicher Zufluchtsort in La Villa de Los Santos. Mit über 2.200 Jahren archäologischer Geschichte unter unseren Füßen bieten wir einen Raum, um von der Stadt abzuschalten und uns mit unseren Wurzeln zu verbinden.",
                services_title: "Unsere Dienstleistungen",
                services_subtitle: "Entdecken Sie alles, was wir anbieten",
                serv_lodging: "Familienunterkunft",
                serv_lodging_desc: "Zimmer mit Klimaanlage und eigenem Bad.",
                serv_daypass: "Tagespass & Pool",
                serv_daypass_desc: "Genießen Sie unsere Einrichtungen für einen Tag.",
                serv_events: "Veranstaltungen & Hütten",
                serv_events_desc: "Hängematten, Brise und Räume für Versammlungen.",
                btn_more: "Details anzeigen →",
                partners_title: "Weitere Erlebnisse der Familie",
                partners_subtitle: "Entdecken Sie unsere anderen Ziele in Panama",
                nuboso_desc: "Eine Flucht in das Hochland von Boquete. Perfektes Wetter, Kaffee und Berge.",
                pollera_title: "Folklore-Studio",
                pollera_desc: "Der spezialisierte Ort für Ihre Pollera-Fotoshootings in Los Santos.",
                btn_visit: "Webseite besuchen →",
                contact_title: "Wo sind wir?",
                booking_title: "Buchen Sie Ihren Besuch",
                booking_text: "Wir bearbeiten Anfragen und Reservierungen direkt:",
                payment_label: "Zahlungsmethoden:"
            }
        };

        function setLanguage(lang) {
            const elements = document.querySelectorAll('[data-lang]');
            elements.forEach(element => {
                const key = element.getAttribute('data-lang');
                if (translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
        }

        // --- DARK MODE: AUTOMÁTICO + MANUAL ---
        function applyTheme(isDark) {
            const body = document.body;
            const icon = document.getElementById('theme-icon');
            
            if (isDark) {
                body.classList.add('dark-mode');
                // Icono cambia a Sol (para que sepas que al tocar vuelves a modo claro)
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                body.classList.remove('dark-mode');
                // Icono cambia a Luna (para que sepas que al tocar vas a modo oscuro)
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        }

        function toggleTheme() {
            // Revisa cómo está ahora e invierte
            const isDarkNow = document.body.classList.contains('dark-mode');
            applyTheme(!isDarkNow);
        }

        // 1. Detectar preferencia al cargar
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)');
        applyTheme(systemPrefersDark.matches);

        // 2. Escuchar cambios del sistema en vivo
        systemPrefersDark.addEventListener('change', (e) => {
            applyTheme(e.matches);
        });
    </script>

</body>
</html>